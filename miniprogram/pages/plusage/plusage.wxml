<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <input 
      class="user-id-input" 
      placeholder="è¯·è¾“å…¥ç”¨æˆ·ID" 
      bindinput="onUserIdInput" 
      value="{{userId}}"
      disabled="{{loading}}"
    />
    <button 
      class="search-btn" 
      bindtap="onSearch"
      disabled="{{loading}}"
    >
      {{loading ? 'æŸ¥è¯¢ä¸­...' : 'æŸ¥è¯¢'}}
    </button>
  </view>

  <!-- é”™è¯¯æç¤º -->
  <view wx:if="{{error}}" class="error-message">
    <text>{{error}}</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">æ­£åœ¨åŠ è½½æ•°æ®...</text>
  </view>

  <!-- ç”¨ç”µæ•°æ®åˆ—è¡¨ -->
  <view wx:if="{{!loading && hasData}}" class="usage-list">
    <view class="list-header">
      <text class="header-title">ç”¨ç”µè®°å½•</text>
      <text class="header-count">å…± {{usageList.length}} æ¡è®°å½•</text>
    </view>
    
    <block wx:for="{{usageList}}" wx:key="id">
      <view 
        class="usage-item" 
        bindtap="onUsageItemTap"
        data-index="{{index}}"
      >
        <view class="item-header">
          <text class="item-date">{{item.usageMonth}}</text>
          <text class="item-id">ç”¨æˆ·ID: {{item.userId}}</text>
        </view>
        <view class="item-content">
          <text class="usage-label">ç”¨ç”µé‡</text>
          <text class="usage-value">{{item.electricityUsage}} kWh</text>
        </view>
        <view class="item-footer">
          <text class="tap-hint">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…</text>
        </view>
      </view>
    </block>
  </view>

  <!-- ç©ºæ•°æ®çŠ¶æ€ -->
  <view wx:if="{{!loading && !hasData && !error}}" class="empty-state">
    <view class="empty-icon">ğŸ“Š</view>
    <text class="empty-title">æš‚æ— ç”¨ç”µæ•°æ®</text>
    <text class="empty-desc">è¯·æ£€æŸ¥ç”¨æˆ·IDæ˜¯å¦æ­£ç¡®ï¼Œæˆ–ç¨åé‡è¯•</text>
  </view>
</view> 